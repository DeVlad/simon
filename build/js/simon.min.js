/*! simon 2018-01-02 */

function Simon(e){this.skillLevel=8|e,this.lastLevel=4,this.sequence=[],this.longest=[],this.initEvents(settings.buttons),this.lockButtons=!1}var settings={buttons:{green:"btn-1",red:"btn-2",blue:"btn-3",yellow:"btn-4",skillLevel1:"skill1",skillLevel2:"skill2",skillLevel3:"skill3",skillLevel4:"skill4",start:"btn-start",last:"btn-last",longest:"btn-longest"}};Simon.prototype.generateRandomPosition=function(e){var t=0;if(e>=0&&e<=4)do{t=Math.floor(4*Math.random())+1}while(e==t);return t},Simon.prototype.generateLevel=function(){if(this.lastLevel<=this.skillLevel){for(var e=[],t=0,n=0;n<this.lastLevel;n++)e.push(this.generateRandomPosition(t)),t=e[n];return this.lastLevel++,this.sequence=e,e}return"Game Over"},Simon.prototype.initEvents=function(e){document.getElementById(e.skillLevel1).addEventListener("click",function(){this.skillLevel=8,console.log(this.skillLevel)}),document.getElementById(e.skillLevel2).addEventListener("click",function(){this.skillLevel=14,console.log(this.skillLevel)}),document.getElementById(e.skillLevel3).addEventListener("click",function(){this.skillLevel=20,console.log(this.skillLevel)}),document.getElementById(e.skillLevel4).addEventListener("click",function(){this.skillLevel=31,console.log(this.skillLevel)}),document.getElementById(e.last).addEventListener("click",this.displayLastSequence.bind(this)),document.getElementById(e.start).addEventListener("click",function(){console.log("START pressed")}),document.getElementById(e.longest).addEventListener("click",function(){console.log("LONGEST pressed")}),document.getElementById(e.green).addEventListener("click",this.illuminateButton.bind(this,e.green,0)),document.getElementById(e.red).addEventListener("click",this.illuminateButton.bind(this,e.red,0)),document.getElementById(e.blue).addEventListener("click",this.illuminateButton.bind(this,e.blue,0)),document.getElementById(e.yellow).addEventListener("click",this.illuminateButton.bind(this,e.yellow,0))},Simon.prototype.test=function(){alert("TEST")},Simon.prototype.illuminateButton=function(e,t){var n=0;0===t?(t=400,n=600):n=t+1e3,setTimeout(function(){document.getElementById(e).classList.add("lighten")},t),setTimeout(function(){document.getElementById(e).classList.remove("lighten")},n)},Simon.prototype.displayLastSequence=function(){console.log("Last Sequence",this.sequence);for(var e=0,t=0;t<this.sequence.length;t++){var n="btn-"+this.sequence[t];e+=1e3,this.illuminateButton(n,e)}},Simon.prototype.displayLevel=function(){var e=0===this.lastLevel?this.lastlevel+1:this.lastLevel-1;document.getElementById("display").innerHTML=e};var game=new Simon;console.log("Test",game.generateLevel()),game.displayLevel();